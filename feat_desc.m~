% File name: feat_desc.m
% Author: Ahmed Zahra, Anthony Owusu
% Date created:

function [descs] = feat_desc(img, x, y)
% (INPUT) img: H ?W matrix representing the gray scale input image frame
% (INPUT) x: N ?1 matrix representing the column coordinates of the corners
% (INPUT) y: N ?1 matrix representing the row coordinates of the corners
% (OUTPUT) descs: 64?N matrix, with column i being the 64-dimensional descriptor (8?8
% linearized grid) computed at the location (xi, yi) in img

N = size(x,1);

descs = zeros(64,N);

img_padded = padarray(img, [20,20], 0, 'both');

points = [x y];

for i=1:N
    p = round(points(i,:));
    
    % Get the 40x40 block around the point
    block = (p(2)-20:p(2)+20, p(1)-20:p(1)+20);
    count = 1;
    for j=1:41
        for k=1:5:41
            descs(count,i) = block(j,k);
            count = count + 1;
        end
    end
    
    desc()
    
end

end